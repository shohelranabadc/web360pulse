import React, { useEffect, useState } from 'react';
import { useParams, Link } from 'react-router';

const BlogDetails = () => {
  const { id } = useParams(); // URL ржерзЗржХрзЗ ржкрзЛрж╕рзНржЯрзЗрж░ ID ржкрж╛ржУрзЯрж╛ ржпрж╛ржмрзЗ
  const [post, setPost] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  // ржЖржкрж╛рждржд ржЖржорж░рж╛ рж╕рзНржпрж╛ржорзНржкрж▓ ржбрж╛ржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрж┐ред
  // ржнржмрж┐рж╖рзНржпрждрзЗ ржПржЦрж╛ржирзЗ Firebase/API ржерзЗржХрзЗ ржбрж╛ржЯрж╛ ржлрзЗржЪ рж╣ржмрзЗред
  const samplePosts = [
    {
      id: "1", // useParams() рж╕рзНржЯрзНрж░рж┐ржВ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ, рждрж╛ржЗ ржПржЯрж┐ржУ рж╕рзНржЯрзНрж░рж┐ржВ
      category: "рж╕рзНржмрж╛рж╕рзНржерзНржп",
      title: "рж░ржХрзНрждржжрж╛ржирзЗрж░ рззрзжржЯрж┐ ржмрж┐рж╕рзНржорзЯржХрж░ ржЙржкржХрж╛рж░рж┐рждрж╛",
      description: `рж░ржХрзНрждржжрж╛ржи ржПржХржЯрж┐ ржорж╣рзО ржХрж╛ржЬ ржпрж╛ рж╢рзБржзрзБ ржЕржирзНржпрзЗрж░ ржЬрзАржмржи ржмрж╛ржБржЪрж╛рзЯ ржирж╛, ржЖржкржирж╛рж░ ржирж┐ржЬрзЗрж░ рж╕рзНржмрж╛рж╕рзНржерзНржпрзЗрж░ ржЬржирзНржпржУ ржЕржирзЗржХ ржЙржкржХрж╛рж░рзАред ржирж┐ржпрж╝ржорж┐ржд рж░ржХрзНрждржжрж╛ржи ржХрж░рж▓рзЗ рж╣рзГржжрж░рзЛржЧрзЗрж░ ржЭрзБржБржХрж┐ ржХржорзЗ ржПржмржВ рж╢рж░рзАрж░рзЗрж░ ржирждрзБржи рж░ржХрзНрждржХржгрж┐ржХрж╛ рждрзИрж░рж┐рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржПржЯрж┐ ржЖржкржирж╛рж░ рж╢рж░рзАрж░рзЗрж░ ржЖржпрж╝рж░ржирзЗрж░ ржнрж╛рж░рж╕рж╛ржорзНржп ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрзЗ, ржпрж╛ ржХрж┐ржЫрзБ рж╕рзНржмрж╛рж╕рзНржерзНржп рж╕ржорж╕рзНржпрж╛ ржкрзНрж░рждрж┐рж░рзЛржзрзЗ рж╕рж╣рж╛ржпрж╝ржХред рж░ржХрзНрждржжрж╛ржирзЗрж░ ржорж╛ржзрзНржпржорзЗ ржЖржкржирж┐ ржХрзНржпрж╛ржирзНрж╕рж╛рж░ ржПржмржВ рж╣рзЗржкрж╛ржЯрзЛрж╕рж┐рж╕рзЗрж░ ржорждрзЛ рж░рзЛржЧрзЗрж░ ржЭрзБржБржХрж┐ржУ ржХржорж╛рждрзЗ ржкрж╛рж░рзЗржиред

      рж░ржХрзНрждржжрж╛ржи ржорж╛ржирж╕рж┐ржХ ржЪрж╛ржк ржХржорж╛рзЯ ржПржмржВ ржжрж╛рждрж╛ржжрзЗрж░ ржоржзрзНржпрзЗ ржПржХ ржзрж░ржирзЗрж░ ржкрж░рж┐рждрзГржкрзНрждрж┐ ржУ ржЖржиржирзНржж ржирж┐рзЯрзЗ ржЖрж╕рзЗред рж░ржХрзНрждржжрж╛ржирзЗрж░ ржЖржЧрзЗ ржЖржкржирж╛рж░ рж╕рзНржмрж╛рж╕рзНржерзНржп ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛ рж╣ржпрж╝, ржпрж╛ ржЖржкржирж╛рж░ рж╢рж░рзАрж░рзЗрж░ ржЕржмрж╕рзНржерж╛ рж╕ржорзНржкрж░рзНржХрзЗ ржПржХржЯрж┐ ржлрзНрж░рж┐ рж╣рзЗрж▓рже ржЪрзЗржХржЖржк рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред ржПржЗ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛рзЯ ржЖржкржирж╛рж░ рж░ржХрзНрждржЪрж╛ржк, рж╣рж┐ржорзЛржЧрзНрж▓рзЛржмрж┐ржирзЗрж░ ржорж╛рждрзНрж░рж╛ ржПржмржВ рж╕ржВржХрзНрж░рж╛ржоржХ рж░рзЛржЧрзЗрж░ рж╕рзНржХрзНрж░рж┐ржирж┐ржВ ржХрж░рж╛ рж╣ржпрж╝ред

      ржмрж┐рж╢рзНржмржЬрзБржбрж╝рзЗ рж▓ржХрзНрж╖ рж▓ржХрзНрж╖ ржорж╛ржирзБрж╖ ржкрзНрж░рждрж┐ржжрж┐ржи рж░ржХрзНржд рж╕ржЮрзНржЪрж╛рж▓ржирзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗред ржПржЯрж┐ ржЬрж░рзБрж░рж┐ ржЕрж╕рзНрждрзНрж░рзЛржкржЪрж╛рж░, ржкрзНрж░рж╕ржмржХрж╛рж▓рзАржи ржЬржЯрж┐рж▓рждрж╛, ржерзНржпрж╛рж▓рж╛рж╕рзЗржорж┐ржпрж╝рж╛ ржПржмржВ ржХрзНржпрж╛ржирзНрж╕рж╛рж░рзЗрж░ ржорждрзЛ рж░рзЛржЧрзЗрж░ ржЪрж┐ржХрж┐рзОрж╕рж╛ржпрж╝ ржЕржкрж░рж┐рж╣рж╛рж░рзНржпред ржкрзНрж░рждрж┐ржЯрж┐ рж░ржХрзНрждржжрж╛ржи ржЬрзАржмржи ржмрж╛ржБржЪрж╛ржирзЛрж░ рж╕рзБржпрзЛржЧ рждрзИрж░рж┐ ржХрж░рзЗ ржПржмржВ рж╕ржорж╛ржЬрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЕржорзВрж▓рзНржп ржЕржмржжрж╛ржи рж░рж╛ржЦрзЗред`,
      image: "https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?auto=format&fit=crop&q=80&w=1200",
      date: "рзирзл ржЬрж╛ржирзБржпрж╝рж╛рж░рж┐, рзирзжрзирзм",
      author: "ржбрж╛. ржЖржХрж╛рж╢"
    },
    {
      id: "2",
      category: "ржЧрж╛ржЗржбрж▓рж╛ржЗржи",
      title: "ржХрж╛рж░рж╛ рж░ржХрзНржд ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗржи ржЖрж░ ржХрж╛рж░рж╛ ржкрж╛рж░ржмрзЗржи ржирж╛?",
      description: `рж░ржХрзНрждржжрж╛ржирзЗрж░ ржЬржирзНржп ржХрж┐ржЫрзБ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЧрж╛ржЗржбрж▓рж╛ржЗржи ржорзЗржирзЗ ржЪрж▓рждрзЗ рж╣рзЯ ржпрж╛рждрзЗ ржжрж╛рждрж╛ ржПржмржВ ржЧрзНрж░рж╣рзАрждрж╛ ржЙржнрзЯрзЗрж░ рж╕рзНржмрж╛рж╕рзНржерзНржп рж╕рзБрж░ржХрзНрж╖рж┐ржд ржерж╛ржХрзЗред рж╕рж╛ржзрж╛рж░ржгржд, рззрзо ржерзЗржХрзЗ рзмрзл ржмржЫрж░ ржмржпрж╝рж╕рзА рж╕рзБрж╕рзНрже ржмрзНржпржХрзНрждрж┐рж░рж╛ рж░ржХрзНржд ржжрж┐рждрзЗ ржкрж╛рж░рзЗржиред ржЖржкржирж╛рж░ ржУржЬржи ржЕржирзНрждржд рзлрзж ржХрзЗржЬрж┐ рж╣рждрзЗ рж╣ржмрзЗ ржПржмржВ ржХрзЛржирзЛ ржмрзЬ ржзрж░ржирзЗрж░ ржЕрж╕рзБрж╕рзНржерждрж╛ ржмрж╛ рж╕ржВржХрзНрж░ржоржг ржерж╛ржХрж╛ ржЪрж▓ржмрзЗ ржирж╛ред

      ржХрж┐ржЫрзБ ржХрзНрж╖рзЗрждрзНрж░рзЗ рж░ржХрзНрждржжрж╛ржи ржерзЗржХрзЗ ржмрж┐рж░ржд ржерж╛ржХрждрзЗ рж╣рзЯ, ржпрзЗржоржи: ржЧржд рзм ржорж╛рж╕рзЗрж░ ржоржзрзНржпрзЗ ржпржжрж┐ ржЖржкржирж┐ ржХрзЛржирзЛ ржЯрзНржпрж╛ржЯрзБ ржХрж░рж┐рзЯрзЗ ржерж╛ржХрзЗржи, ржпржжрж┐ ржЖржкржирж╛рж░ рж╣рж┐ржорзЛржЧрзНрж▓рзЛржмрж┐ржирзЗрж░ ржорж╛рждрзНрж░рж╛ ржХржо ржерж╛ржХрзЗ, ржпржжрж┐ ржЖржкржирж┐ ржЧрж░рзНржнржмрждрзА рж╣ржи ржмрж╛ ржмрж╛ржЪрзНржЪрж╛ржХрзЗ ржмрзБржХрзЗрж░ ржжрзБржз ржЦрж╛ржУрзЯрж╛ржи, ржЕржержмрж╛ ржпржжрж┐ ржЖржкржирж╛рж░ ржЙржЪрзНржЪ рж░ржХрзНрждржЪрж╛ржк, ржбрж╛рзЯрж╛ржмрзЗржЯрж┐рж╕, рж╣рзЗржкрж╛ржЯрж╛ржЗржЯрж┐рж╕ ржмрж╛ ржПржЗржбрж╕рзЗрж░ ржорждрзЛ рж░рзЛржЧ ржерж╛ржХрзЗред

      рж░ржХрзНрждржжрж╛ржирзЗрж░ ржЖржЧрзЗ ржЖржкржирж╛рж░ рж░ржХрзНрждржЪрж╛ржк, ржкрж╛рж▓рж╕ рж░рзЗржЯ, рждрж╛ржкржорж╛рждрзНрж░рж╛ ржПржмржВ рж╣рж┐ржорзЛржЧрзНрж▓рзЛржмрж┐ржирзЗрж░ ржорж╛рждрзНрж░рж╛ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рж╛ рж╣ржмрзЗред рж╕ржХрж▓ рж╢рж░рзНржд ржкрзВрж░ржг рж╣рж▓рзЗ рждржмрзЗржЗ ржЖржкржирж┐ рж░ржХрзНржд ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗржиред ржоржирзЗ рж░рж╛ржЦржмрзЗржи, ржЖржкржирж╛рж░ ржжрзЗржУрзЯрж╛ рж░ржХрзНржд ржЕржирзНржп ржХрж╛рж░рзЛ ржЬрзАржмржи ржмрж╛ржБржЪрж╛рждрзЗ ржкрж╛рж░рзЗ, рждрж╛ржЗ рж╕ржарж┐ржХ рждржерзНржп ржжрзЗржУрзЯрж╛ ржЦрзБржмржЗ ржЬрж░рзБрж░рж┐ред`,
      image: "https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?auto=format&fit=crop&q=80&w=1200",
      date: "рзирзк ржЬрж╛ржирзБржпрж╝рж╛рж░рж┐, рзирзжрзирзм",
      author: "рж░рзЗржжржУрзЯрж╛ржи ржЖрж╣ржорзЗржж"
    },
    // ... ржЖржкржирж╛рж░ ржЕржирзНржпрж╛ржирзНржп ржкрзЛрж╕рзНржЯржЧрзБрж▓рзЛ ржПржЦрж╛ржирзЗ ржпрзЛржЧ ржХрж░рзБржи (ржЕрзНржпрж╛рж░рзЗрж░ ржмрж╛ржХрж┐ ржЕржмржЬрзЗржХрзНржЯржЧрзБрж▓рзЛ)
  ];

  useEffect(() => {
    // ржПржЦрж╛ржирзЗ Real API/Firebase ржХрж▓ рж╣ржмрзЗ
    // ржЖржкрж╛рждржд ржЖржорж░рж╛ рж╕рзНржпрж╛ржорзНржкрж▓ ржбрж╛ржЯрж╛ ржерзЗржХрзЗ ржЖржЗржбрж┐ ржжрж┐рзЯрзЗ ржкрзЛрж╕рзНржЯ ржЦрзБржБржЬржЫрж┐
    const foundPost = samplePosts.find(p => p.id === id); 
    if (foundPost) {
      setPost(foundPost);
    } else {
      setError("ржПржЗ ржмрзНрж▓ржЧ ржкрзЛрж╕рзНржЯржЯрж┐ ржЦрзБржБржЬрзЗ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐ред");
    }
    setLoading(false); // рж▓рзЛржбрж┐ржВ рж╢рзЗрж╖
  }, [id]);

  if (loading) {
    return <div className="text-center py-20 text-xl text-gray-700">ржкрзЛрж╕рзНржЯ рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</div>;
  }

  if (error) {
    return <div className="text-center py-20 text-xl text-red-600">{error}</div>;
  }

  if (!post) {
    return <div className="text-center py-20 text-xl text-gray-700">ржХрзЛржирзЛ ржкрзЛрж╕рзНржЯ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐ред</div>;
  }

  return (
    <div className="bg-gray-50 min-h-screen py-12 px-4">
      <div className="max-w-4xl mx-auto bg-white shadow-lg rounded-2xl overflow-hidden">
        {/* Post Image */}
        <div className="relative h-96 overflow-hidden">
          <img 
            src={post.image} 
            alt={post.title} 
            className="w-full h-full object-cover"
          />
          <span className="absolute bottom-4 left-4 bg-red-600 text-white text-sm font-bold px-4 py-2 rounded-full uppercase shadow-md">
            {post.category}
          </span>
        </div>

        {/* Post Content */}
        <div className="p-8 md:p-10">
          <h1 className="text-4xl md:text-5xl font-extrabold text-gray-900 mb-6 leading-tight">
            {post.title}
          </h1>
          <div className="flex items-center text-gray-500 text-sm mb-8 space-x-4">
            <span>ЁЯУЕ {post.date}</span>
            <span>тАв</span>
            <span>ЁЯСд {post.author}</span>
          </div>

          <p className="text-gray-700 text-lg leading-relaxed mb-8 whitespace-pre-line">
            {post.description}
          </p>

          <Link to="/blog" className="inline-flex items-center text-red-600 hover:text-red-800 font-bold transition-colors">
            <span className="mr-2">тЖР</span> рж╕ржм ржмрзНрж▓ржЧ ржкрзЛрж╕рзНржЯрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи
          </Link>
        </div>
      </div>
    </div>
  );
};

export default BlogDetails;